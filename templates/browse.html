{% extends "base.html" %}
{% block content %}
<div class="container" id="pageTop">
    <div class="row">
        <div class="col s12">
            <h3 class="center subtitle">Browse</h3>
        </div>
    </div>
    <div class="row container">
        <div class="col s12">
            <p class="center">
                Want to write a review? Click <a href="{{ url_for('search') }}">here</a> to find the book you wish to
                review.
            </p>
        </div>
    </div>
    <!-- Books to Browse -->
    {% for book in books[0:1] %}
    <div class="row center">
        <div class="col s12 m6">
            <img src="{{ book.thumbnail }}" alt="{{ book.title }} by {{ book.authors[0] }} book cover" class="cover"
                loading="eager"><br>
        </div>
        <div class="col s12 m6">
            <p>{{ book.category }}</p>
            <h5>{{ book.title }}</h5>
            <p>{{ book.authors[0] }}</p>
            <!-- Solution to html entities being displayed in the text found at: https://stackoverflow.com/questions/38175365/pass-json-from-flask-to-template-and-decode-html-entity-->
            <p>{{ book.text_snippet | safe }}</p>
            <p><a href="{{ url_for('view_book', book_id=book._id) }}" class="subtitle">Read review...</a></p>
        </div>
    </div>
    {% endfor %}
    {% for book in books[1:] %}
    <div class="row center">
        <div class="col s12 m6">
            <img src="{{ book.thumbnail }}" alt="{{ book.title }} book cover" class="cover" loading="lazy"><br>
        </div>
        <div class="col s12 m6">
            <p>{{ book.category }}</p>
            <h5>{{ book.title }}</h5>
            <p>{{ book.authors[0] }}</p>
            <p>{{ book.text_snippet | safe }}</p>
            <p><a href="{{ url_for('view_book', book_id=book._id) }}" class="subtitle">Read review...</a></p>
        </div>
    </div>
    {% endfor %}
    <div class="row">
        <div class="col s12">
            <p class="center">
                <a href="#{{ pageTop }}" title="Link to top of page"><i
                        class="fas fa-chevron-circle-up back-to-top"></i></a>
            </p>
        </div>
    </div>
</div>
{% endblock %}